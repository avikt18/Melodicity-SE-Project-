(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{110:function(e,t,s){},111:function(e,t,s){},165:function(e,t,s){},171:function(e,t,s){},172:function(e,t,s){},174:function(e,t,s){},175:function(e,t,s){},179:function(e,t,s){},267:function(e,t,s){},268:function(e,t,s){},269:function(e,t,s){},270:function(e,t,s){},271:function(e,t,s){},272:function(e,t,s){},273:function(e,t,s){},274:function(e,t,s){},275:function(e,t,s){},276:function(e,t,s){},277:function(e,t,s){},279:function(e,t,s){},301:function(e,t,s){},302:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),c=s(15),i=s.n(c),l=(s(165),s(18)),o=s(14),r=s(5),d=(s(171),s(10)),u="ADD_ALERT",j="CLEAR_ALERT",b=function(){return{type:j}},m=(s(172),s(1)),O=function(){var e=Object(n.useState)({top:"-200px"}),t=Object(d.a)(e,2),s=t[0],a=t[1],c=Object(r.b)(),i=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.alert)||void 0===t?void 0:t.message}));return Object(n.useEffect)((function(){a(i?{top:"0px"}:{top:"-200px"})}),[i]),Object(m.jsxs)("div",{className:"alert-container d-flex flex-column",style:s,children:[Object(m.jsx)("div",{className:"alert-content",children:i}),Object(m.jsx)("div",{className:"alert-btn-container d-flex",children:Object(m.jsx)("div",{className:"alert-btn",onClick:function(){return c(b())},children:"Close"})})]})},h=(s(174),s(175),function(e){var t=e.setShow,s=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.token})),a=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.userId})),c=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.isCreator})),i=Object(n.useState)(!1),o=Object(d.a)(i,2),u=o[0],j=o[1],b=function(){window.scrollY>100?j(!0):j(!1)};return Object(n.useEffect)((function(){return window.addEventListener("scroll",b),function(){return window.removeEventListener("scroll",b)}}),[]),Object(m.jsxs)("div",{className:"navbar",children:[Object(m.jsx)("div",{className:"nav-background",style:{opacity:u?1:0}}),Object(m.jsxs)("nav",{className:"d-flex justify-content-between align-items-center nav-content",children:[Object(m.jsx)("div",{className:"brand",children:"Melodicity"}),Object(m.jsxs)("div",{className:"d-flex justify-content-between align-items-center navbar-options",children:[Object(m.jsx)(l.b,{to:"/songs",children:s&&Object(m.jsxs)("span",{className:"navbar-search",children:[" ",Object(m.jsx)("i",{className:"fas fa-search"}),"\xa0 Search"]})}),(!s||c)&&Object(m.jsx)("span",{onClick:function(){return t(!0)},children:"Publish"}),Object(m.jsx)("span",{children:Object(m.jsx)(l.b,{to:"/songs",children:"Listen"})}),Object(m.jsx)("div",{className:"nav-line"}),Object(m.jsx)(m.Fragment,{children:s?Object(m.jsx)("span",{className:"nav-item-logout nav-item ",children:Object(m.jsxs)(l.b,{to:"/profile/"+a,children:[" ",Object(m.jsx)("i",{className:"fas fa-user-alt"})," "]})}):Object(m.jsx)("span",{className:"nav-item-login nav-item login-text",children:Object(m.jsx)(l.b,{to:"/login",children:"Log in"})})})]})]})]})}),f=(s(179),s(53)),v=s.n(f),p=function(e){var t=e.modalStyle,s=e.children,a=e.show,c=e.backdropStyle,i=Object(n.useRef)(null);return Object(n.useEffect)((function(){a?i.current.classList.add(v.a.visible):i.current.classList.remove(v.a.visible)}),[a]),Object(m.jsx)("div",{ref:i,style:c,className:"".concat(v.a.modal__wrap),children:Object(m.jsx)("div",{style:t,className:v.a.modal,children:s})})},g=s(308),x=s(309),N=s(19),y=s.n(N),S="GET_USER_DETAILS_REQUEST",E="GET_USER_DETAILS_SUCCESS",_="GET_USER_DETAILS_FAILURE",L="PUBISH_SONG_REQUEST",C="PUBISH_SONG_SUCCESS",I="PUBISH_SONG_FAILURE",w="GET_ALL_USERS_REQUEST",k="GET_ALL_USERS_SUCCESS",R="GET_ALL_USERS_FAILURE",A="UPDATE_USER_COVER_REQUEST",U="UPDATE_USER_COVER_SUCCESS",T="UPDATE_USER_COVER_FAILURE",P=function(e){return{type:E,payload:e}},G="USER_LOGIN_REQUEST",F="USER_LOGIN_SUCCESS",D="USER_LOGIN_FAILURE",V="USER_REGISTER_REQUEST",M="USER_REGISTER_SUCCESS",Y="USER_REGISTER_FAILURE",B="USER_PREREGISTER_REQUEST",Q="USER_PREREGISTER_SUCCESS",H="USER_PREREGISTER_FAILURE",q="USER_VERIFICATION_REQUEST",Z="USER_VERIFICATION_SUCCESS",z="USER_VERIFICATION_FAILURE",K="UPDATE_PREUSER_INFO",J="USER_LOGOUT",W=function(e){return function(t){t({type:G}),y.a.post("/api/user/auth-routes/login",e).then((function(e){var s;localStorage.setItem("token",JSON.stringify(e.data.token)),localStorage.setItem("isCreator",e.data.isCreator),localStorage.setItem("userId",e.data.userId),t((s=e.data,{type:F,payload:s}))})).catch((function(e){t(se(e.response.data.message)),t({type:D})}))}},X=function(e){return function(t){t({type:V}),y.a.post("/api/user/auth-routes/register",e).then((function(e){t(se(e.data.message)),t({type:M})})).catch((function(e){t(se(e.response.data.message)),t({type:Y})}))}},$=function(e){return function(t){t({type:B}),y.a.post("/api/user/auth-routes/pre-register",e).then((function(s){t({type:Q}),t(function(e){return{type:K,payload:e}}(e))})).catch((function(e){t(se(e.response.data.message)),t({type:H})}))}},ee=function(e){return function(t){t({type:q}),y.a.put("/api/user/auth-routes/verify-user",e).then((function(e){t(se(e.data.message)),t({type:Z})})).catch((function(e){t(se(e.response.data.message)),t({type:z})}))}},te=function(){return function(e){localStorage.setItem("token",null),localStorage.setItem("isCreator",null),localStorage.setItem("userId",null),e({type:J})}},se=function(e){return function(t){"jwt expired"===e&&t(te()),t(function(e){return{type:u,payload:e}}(e))}},ne=function(e){return console.log(e),function(t){t({type:S});var s=le(e.token);y.a.get("/api/user/user-routes/user/"+e.id,s).then((function(e){t(P(e.data))})).catch((function(e){t(se(e.response.data.message)),t({type:_})}))}},ae=function(e){return function(t){t({type:w});var s=le(e.token);y.a.get("/api/user/user-routes/all-users",s).then((function(e){var s;t((s=e.data,{type:k,payload:s}))})).catch((function(e){t(se(e.response.data.message)),t({type:R})}))}},ce=function(e){return function(t){t({type:L});var s=le(e.token);y.a.post("/api/user/user-routes/publish",e.publishInfo,s).then((function(e){var s;t((s=e.data,{type:C,payload:s}))})).catch((function(e){t(se(e.response.data.message)),t({type:I})}))}},ie=function(e){return function(t){t({type:A});var s=le(e.token);y.a.put("/api/user/user-routes/add-user-cover",e.updateInfo,s).then((function(e){var s;t({type:U,payload:s}),t(P(e.data))})).catch((function(e){t(se(e.response.data.message)),t({type:T})}))}},le=function(e){return{headers:{"Content-Type":"application/json",Authorization:e}}},oe=g.a.Dragger;var re=function(e){var t=e.show,s=e.setShow,a=Object(n.useState)(null),c=Object(d.a)(a,2),i=c[0],l=c[1],o=Object(n.useState)(null),u=Object(d.a)(o,2),j=u[0],b=u[1],O=Object(n.useState)(null),h=Object(d.a)(O,2),f=h[0],v=h[1],g=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.token})),N=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.isPostLoading})),y=Object(r.b)(),S=N?Object(m.jsx)("button",{className:"publish-submit-btn",disabled:!0,children:Object(m.jsx)("i",{className:"fas fa-spinner"})}):Object(m.jsx)("button",{className:"publish-submit-btn",children:"Publish"});return Object(m.jsx)(p,{show:t,onClose:function(){return s(!1)},children:Object(m.jsx)("div",{className:"publish-form",children:Object(m.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("files",f),t.append("files",j),t.append("name",i),y(ce({publishInfo:t,token:g}))},children:[Object(m.jsxs)(oe,{beforeUpload:!1,name:"files",fileList:[],onChange:function(e){var t=e.fileList;b(t[0].originFileObj)},showUploadList:!1,customRequest:function(e){return console.log(e)},className:".ant-upload .ant-upload-drag",children:[Object(m.jsx)("div",{className:"publish-icon d-flex",children:Object(m.jsx)(x.a,{})}),Object(m.jsxs)("div",{className:"publish-upload-text d-flex",children:[" ",Object(m.jsx)("span",{children:"Drag file to this area to upload"})]}),Object(m.jsx)("div",{className:"publish-upload-text d-flex",children:" or"}),Object(m.jsxs)("div",{className:"publishchoose-upload-text d-flex",children:[" ",Object(m.jsx)("span",{children:"Choose file"})]})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:"input-div",children:[Object(m.jsx)("input",{type:"text",name:"name",className:"form-input",placeholder:"  ",required:!0,onChange:function(e){l(e.target.value)}}),Object(m.jsx)("label",{htmlFor:"email",className:"form-label",children:"Song name"}),Object(m.jsx)("div",{className:"input-icon",children:Object(m.jsx)("i",{className:"fas fa-guitar"})})]}),Object(m.jsxs)("div",{className:"input-div",style:{marginBottom:"0.5rem"},children:[Object(m.jsx)("input",{type:"text",name:"credits",className:"form-input",placeholder:"  "}),Object(m.jsx)("label",{htmlFor:"credits",className:"form-label",children:"Credits"}),Object(m.jsx)("div",{className:"input-icon",children:Object(m.jsx)("i",{className:"fas fa-music"})})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:"input-div d-flex",style:{marginBottom:"0.5rem"},children:[Object(m.jsx)("div",{children:"Add song cover photo : \xa0"}),Object(m.jsx)("input",{name:"file-message",id:"file-message",className:"file",type:"file",placeholder:"",onChange:function(e){v(e.target.files[0])}}),Object(m.jsx)("label",{htmlFor:"file-message",className:"publishchoose-upload-text ",children:Object(m.jsx)("span",{children:"Choose file"})})]}),Object(m.jsxs)("div",{className:"d-flex",children:[S,Object(m.jsx)("button",{type:"reset",className:"publish-cancel-btn",onClick:function(){return s(!1)},children:"Cancel"})]})]})})})},de=function(){var e=Object(n.useState)(0),t=Object(d.a)(e,2),s=t[0],a=t[1],c=Object(n.useState)(!1),i=Object(d.a)(c,2),o=i[0],u=i[1],j=Object(n.useRef)(null),b=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.isCreator})),O=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.token}));Object(n.useEffect)((function(){window.addEventListener("scroll",(function(e){for(var t,s,n=this.scrollY,a=document.getElementsByClassName("parallax"),c=0;c<a.length;c++)s=-n*(t=a[c]).getAttribute("data-speed")/100,t.setAttribute("style","transform: translate3d(0px, "+s+"px, 0px)")}))}),[]);var f=[{songArt:"distance.jpg",songName:"Distance",songDesc:"Distance is the song interpreted by oneRepublic, released on the album human in 2021."},{songArt:"prateek-kuhad.jpg",songName:"Sheheron ke Raaz",songDesc:"Shehron Ke Raaz is the latest Hindi song written by Prateek Kuhad."},{songArt:"rangi-sari.jpg",songName:"Rangi Sari",songDesc:"Rangi Saari, a traditional thumri, symbolizes love and all its playful mischiefs with the beloved. "}];return Object(m.jsxs)("div",{className:"home-page",children:[O&&Object(m.jsx)(re,{show:o,setShow:u}),Object(m.jsx)(h,{setShow:u}),Object(m.jsx)("div",{className:"songcover-bg",style:{backgroundImage:"url(".concat(f[s].songArt,")")}}),Object(m.jsx)("div",{className:"bg-blur"}),Object(m.jsxs)("div",{className:"home d-flex flex-column",children:[Object(m.jsx)("div",{className:"home-bg-spot-1"}),Object(m.jsxs)("div",{className:"h1 d-flex",children:[Object(m.jsx)("div",{className:"h1-bg"}),Object(m.jsxs)("div",{className:"h1-content d-flex align-items-center",children:[Object(m.jsxs)("div",{className:"d-flex flex-column h1-header flex-column",children:[Object(m.jsx)("span",{children:"Music you need"}),Object(m.jsx)("div",{className:"h1-button",onClick:function(){return j.current.scrollIntoView()},children:"Explore"})]}),Object(m.jsxs)("div",{className:"content-right",children:[Object(m.jsx)("div",{className:"glow-right"}),Object(m.jsx)("div",{className:"music-wave-image parallax","data-speed":"20"}),Object(m.jsx)("div",{className:"d-flex flex-column h1-right align-items-center parallax","data-speed":"40"})]})]})]}),Object(m.jsxs)("div",{className:"h2 d-flex align-items-center  flex-column",id:"display-song-card",ref:j,children:[Object(m.jsxs)("div",{className:"h2-content d-flex align-items-center",children:[Object(m.jsx)("div",{className:"h2-img",style:{backgroundImage:"url(".concat(f[s].songArt,")")}}),Object(m.jsxs)("div",{className:"h2-content-text d-flex ",children:[Object(m.jsx)("div",{className:"h2-content-line d-flex align-items-center",children:Object(m.jsx)("div",{})}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{className:"song-name-card",children:f[s].songName}),Object(m.jsx)("p",{children:f[s].songDesc}),Object(m.jsx)("div",{className:"h2-btn",children:"Stream now"})]})]})]}),Object(m.jsxs)("div",{className:"h2-content-btm d-flex align-items-center",children:[Object(m.jsx)("div",{className:"h2-dot",onClick:function(){return a(0)}}),Object(m.jsx)("div",{className:"h2-dot",onClick:function(){return a(1)}}),Object(m.jsx)("div",{className:"h2-dot",onClick:function(){return a(2)}})]})]}),Object(m.jsxs)("div",{className:"feature-section ",children:[Object(m.jsx)("img",{src:"./bottom-blur.png",alt:"blur",className:"bottom-blur"}),Object(m.jsxs)("div",{className:"carousel-section",children:[b?Object(m.jsxs)("div",{className:"carousel-item",children:[Object(m.jsx)("h1",{className:"carousel-upper-heading",children:"Publish"}),Object(m.jsx)("h1",{className:"carousel-lower-heading",children:"your song hassle-free"}),Object(m.jsx)("p",{className:"carousel-desc",children:"Every artist deserves a stage. Melodicity is the place where you can share your song with people."})]}):Object(m.jsxs)("div",{className:"carousel-item",children:[Object(m.jsx)("h1",{className:"carousel-upper-heading",children:"No limits"}),Object(m.jsx)("h1",{className:"carousel-lower-heading",children:"unlimited genres"}),Object(m.jsx)("p",{className:"carousel-desc",children:"Melodicity is the city of melodies. It lets Artists to publish any genre of music, thus giving listeners a vast collection of songs."})]}),!O&&Object(m.jsx)(l.b,{to:"/login",children:Object(m.jsx)("button",{className:"login-last-btn",children:"Log in"})})]}),Object(m.jsx)("div",{className:"right-section",children:Object(m.jsx)("img",{className:"bottom-illustration",src:"bottom-illus.svg",alt:"illustration"})})]})]}),Object(m.jsxs)("footer",{children:[Object(m.jsx)("h1",{children:"Melodicity \xa9"}),Object(m.jsx)("p",{children:"IIITM Gwalior"})]})]})},ue=(s(110),s(267),function(){return Object(m.jsxs)("div",{className:"logo d-flex align-items-center flex-column",children:[Object(m.jsx)("div",{className:"logo-bg"}),Object(m.jsx)("div",{className:"logo-img"}),Object(m.jsx)("div",{className:"brand",children:"Melodicity"})]})}),je=function(){var e=Object(r.b)(),t=Object(o.g)(),s=Object(n.useState)(""),c=Object(d.a)(s,2),i=c[0],l=c[1],u=Object(n.useState)(""),j=Object(d.a)(u,2),b=j[0],O=j[1],h=Object(n.useState)(!1),f=Object(d.a)(h,2),v=f[0],p=f[1],g=a.a.createRef(),x=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.isLoading})),N=v?Object(m.jsx)("div",{className:"password-toggler",children:Object(m.jsx)("i",{className:"fas fa-eye-slash",onClick:function(){S()}})}):Object(m.jsx)("div",{className:"password-toggler",children:Object(m.jsx)("i",{className:"fas fa-eye",onClick:function(){S()}})}),y=x?Object(m.jsx)("button",{className:"login-submit-btn d-flex align-items-center submit",disabled:!0,children:Object(m.jsx)("i",{className:"fas fa-spinner"})}):Object(m.jsx)("button",{className:"login-submit-btn d-flex align-items-center submit",children:"Login"}),S=function(){var e=g.current;v?(e.type="password",p(!1)):(e.type="text",p(!0))};return Object(m.jsx)("div",{className:"login",children:Object(m.jsxs)("div",{className:"login-div d-flex align-items-center flex-column",children:[Object(m.jsx)("div",{className:"login-bg-spot-1"}),Object(m.jsx)(ue,{}),Object(m.jsx)("span",{children:"Login now to stream your favorite music"}),Object(m.jsxs)("div",{className:"login-form",children:[Object(m.jsxs)("form",{className:"form",onSubmit:function(t){t.preventDefault(),e(W({email:i,password:b}))},children:[Object(m.jsxs)("div",{className:"input-div",children:[Object(m.jsx)("input",{type:"email",name:"email",className:"form-input",placeholder:"  ",required:!0,onChange:function(e){l(e.target.value)}}),Object(m.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(m.jsx)("div",{className:"input-icon",children:Object(m.jsx)("i",{className:"far fa-envelope"})})]}),Object(m.jsxs)("div",{className:"input-div",style:{marginBottom:"0.5rem"},children:[Object(m.jsx)("input",{type:"password",name:"password",ref:g,className:"form-input",placeholder:"  ",required:!0,onChange:function(e){O(e.target.value)}}),Object(m.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(m.jsx)("div",{className:"input-icon",children:Object(m.jsx)("i",{className:"fas fa-lock"})}),N]}),Object(m.jsx)("div",{className:"forgot-pass",children:"Forgot password"}),y]}),Object(m.jsx)("div",{className:"login-divider",children:Object(m.jsx)("div",{children:"or"})}),Object(m.jsx)("div",{className:"login-submit-btn d-flex align-items-center opt",onClick:function(){return t.push("/register")},children:"Register"})]})]})})},be=function(){var e=Object(o.g)(),t=Object(r.b)(),s=Object(n.useState)(""),c=Object(d.a)(s,2),i=c[0],l=c[1],u=Object(n.useState)(""),j=Object(d.a)(u,2),b=j[0],O=j[1],h=Object(n.useState)(""),f=Object(d.a)(h,2),v=f[0],p=f[1],g=Object(n.useState)(""),x=Object(d.a)(g,2),N=x[0],y=x[1],S=Object(n.useState)(!1),E=Object(d.a)(S,2),_=E[0],L=E[1],C=a.a.createRef(),I=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.isLoading})),w=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.preRegistration}));Object(n.useEffect)((function(){!I&&w&&e.push("/register/role")}),[I,w,e]);var k=_?Object(m.jsx)("div",{className:"password-toggler",children:Object(m.jsx)("i",{className:"fas fa-eye-slash",onClick:function(){A()}})}):Object(m.jsx)("div",{className:"password-toggler",children:Object(m.jsx)("i",{className:"fas fa-eye",onClick:function(){A()}})}),R=I?Object(m.jsx)("button",{className:"login-submit-btn d-flex align-items-center submit",disabled:!0,children:Object(m.jsx)("i",{className:"fas fa-spinner"})}):Object(m.jsx)("button",{className:"login-submit-btn d-flex align-items-center submit",children:"Next"}),A=function(){var e=C.current;_?(e.type="password",L(!1)):(e.type="text",L(!0))};return Object(m.jsx)("div",{className:"login",children:Object(m.jsxs)("div",{className:"login-div d-flex align-items-center flex-column",children:[Object(m.jsx)("div",{className:"login-bg-spot-1"}),Object(m.jsx)(ue,{}),Object(m.jsx)("span",{children:"Welcome to the world of Music"}),Object(m.jsx)("div",{className:"login-form",children:Object(m.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),b===N?t($({name:v.split(" ").filter((function(e){return e.length})).join(" "),email:i,password:b})):b!==N&&t(se("Password does not match."))},children:[Object(m.jsxs)("div",{className:"input-div",children:[Object(m.jsx)("input",{type:"name",name:"name",className:"form-input",placeholder:"  ",required:!0,onChange:function(e){p(e.target.value)}}),Object(m.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(m.jsx)("div",{className:"input-icon",children:Object(m.jsx)("i",{className:"far fa-user"})})]}),Object(m.jsxs)("div",{className:"input-div",children:[Object(m.jsx)("input",{type:"email",name:"email",className:"form-input",placeholder:"  ",required:!0,onChange:function(e){l(e.target.value)}}),Object(m.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(m.jsx)("div",{className:"input-icon",children:Object(m.jsx)("i",{className:"far fa-envelope"})})]}),Object(m.jsxs)("div",{className:"input-div",children:[Object(m.jsx)("input",{type:"password",name:"password",className:"form-input",placeholder:"  ",required:!0,onChange:function(e){O(e.target.value)}}),Object(m.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(m.jsx)("div",{className:"input-icon",children:Object(m.jsx)("i",{className:"fas fa-lock"})})]}),Object(m.jsxs)("div",{className:"input-div",children:[Object(m.jsx)("input",{type:"password",name:"confirm",ref:C,className:"form-input",placeholder:"  ",required:!0,onChange:function(e){y(e.target.value)}}),Object(m.jsx)("label",{htmlFor:"confirm",className:"form-label",children:"Confirm Password"}),Object(m.jsx)("div",{className:"input-icon",children:Object(m.jsx)("i",{className:"fas fa-key"})}),k]}),R]})})]})})},me=s(8),Oe=(s(268),s(269),s(307));var he=function(e){var t=e.iterationCount,s=e.color,n=e.height,a=e.variants,c={height:n,fill:s};return Object(m.jsx)("div",{className:"wave-animation",children:Object(m.jsxs)(Oe.a.svg,{id:"wave","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 38.05",style:c,initial:null===a||void 0===a?void 0:a.before,animate:null===a||void 0===a?void 0:a.after,variants:a,children:[Object(m.jsx)("path",{id:"Line_1","data-name":"Line 1",d:"M0.91,15L0.78,15A1,1,0,0,0,0,16v6a1,1,0,1,0,2,0s0,0,0,0V16a1,1,0,0,0-1-1H0.91Z",style:{animationIterationCount:t}}),Object(m.jsx)("path",{id:"Line_2","data-name":"Line 2",d:"M6.91,9L6.78,9A1,1,0,0,0,6,10V28a1,1,0,1,0,2,0s0,0,0,0V10A1,1,0,0,0,7,9H6.91Z",style:{animationIterationCount:t}}),Object(m.jsx)("path",{id:"Line_3","data-name":"Line 3",d:"M12.91,0L12.78,0A1,1,0,0,0,12,1V37a1,1,0,1,0,2,0s0,0,0,0V1a1,1,0,0,0-1-1H12.91Z",style:{animationIterationCount:t}}),Object(m.jsx)("path",{id:"Line_4","data-name":"Line 4",d:"M18.91,10l-0.12,0A1,1,0,0,0,18,11V27a1,1,0,1,0,2,0s0,0,0,0V11a1,1,0,0,0-1-1H18.91Z",style:{animationIterationCount:t}}),Object(m.jsx)("path",{id:"Line_5","data-name":"Line 5",d:"M24.91,15l-0.12,0A1,1,0,0,0,24,16v6a1,1,0,0,0,2,0s0,0,0,0V16a1,1,0,0,0-1-1H24.91Z",style:{animationIterationCount:t}}),Object(m.jsx)("path",{id:"Line_6","data-name":"Line 6",d:"M30.91,10l-0.12,0A1,1,0,0,0,30,11V27a1,1,0,1,0,2,0s0,0,0,0V11a1,1,0,0,0-1-1H30.91Z",style:{animationIterationCount:t}}),Object(m.jsx)("path",{id:"Line_7","data-name":"Line 7",d:"M36.91,0L36.78,0A1,1,0,0,0,36,1V37a1,1,0,1,0,2,0s0,0,0,0V1a1,1,0,0,0-1-1H36.91Z",style:{animationIterationCount:t}}),Object(m.jsx)("path",{id:"Line_8","data-name":"Line 8",d:"M42.91,9L42.78,9A1,1,0,0,0,42,10V28a1,1,0,1,0,2,0s0,0,0,0V10a1,1,0,0,0-1-1H42.91Z",style:{animationIterationCount:t}}),Object(m.jsx)("path",{id:"Line_9","data-name":"Line 9",d:"M48.91,15l-0.12,0A1,1,0,0,0,48,16v6a1,1,0,1,0,2,0s0,0,0,0V16a1,1,0,0,0-1-1H48.91Z",style:{animationIterationCount:t}})]})})},fe=function(e){var t=e.show,s=e.setShow,a=Object(r.b)(),c=Object(n.useState)(),i=Object(d.a)(c,2),l=i[0],o=i[1],u=Object(n.useState)([]),j=Object(d.a)(u,2),b=j[0],O=j[1],h=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.isLoading})),f=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.preUserInfo})),v=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.alert)||void 0===t?void 0:t.message}));Object(n.useEffect)((function(){v&&!h&&s(!1)}),[v,s,h]);var g=h?Object(m.jsx)("button",{className:"login-submit-btn d-flex align-items-center submit",disabled:!0,children:Object(m.jsx)("i",{className:"fas fa-spinner"})}):Object(m.jsx)("button",{className:"login-submit-btn d-flex align-items-center submit",children:"Register"});return Object(m.jsx)(p,{show:t,onClose:function(){return s(!1)},children:Object(m.jsxs)("div",{className:"login-form",children:[Object(m.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault();var t=Object(me.a)(Object(me.a)({},f),{},{creatorName:l,genre:b});a(X(t))},children:[Object(m.jsxs)("div",{className:"input-div",children:[Object(m.jsx)("input",{type:"text",name:"name",className:"form-input",placeholder:"  ",required:!0,onChange:function(e){o(e.target.value)}}),Object(m.jsx)("label",{htmlFor:"email",className:"form-label",children:"Creator Name"}),Object(m.jsx)("div",{className:"input-icon",children:Object(m.jsx)("i",{className:"far fa-user"})})]}),Object(m.jsxs)("div",{className:"input-div",style:{marginBottom:"0.5rem"},children:[Object(m.jsx)("input",{type:"text",name:"genre",className:"form-input",placeholder:"  ",onChange:function(e){O(e.target.value)}}),Object(m.jsx)("label",{htmlFor:"genre",className:"form-label",children:"Genres"}),Object(m.jsx)("div",{className:"input-icon",children:Object(m.jsx)("i",{className:"fas fa-music"})})]}),g]}),Object(m.jsx)("div",{className:"login-submit-btn d-flex align-items-center opt",onClick:function(){return s(!1)},children:"Cancel"})]})})};var ve=function(){var e=Object(o.g)(),t=Object(n.useState)(!1),s=Object(d.a)(t,2),a=s[0],c=s[1],i=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.preRegistration})),l=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.preUserInfo})),u=Object(r.b)();Object(n.useEffect)((function(){i||e.push("/register")}),[i,e]);var j={before:{opacity:0,y:50},after:{opacity:1,y:0,transition:{delay:3,type:"spring",damping:100,stiffness:500,duration:.5}}};return Object(m.jsxs)("div",{className:"choose-role-page",children:[Object(m.jsx)(fe,{show:a,setShow:c}),Object(m.jsx)(Oe.a.div,{className:"glow",initial:{opacity:0},animate:{opacity:.6},transition:{delay:2.9,duration:1}}),Object(m.jsx)(he,{iterationCount:3,color:"#fff",height:"35px",variants:{before:{scale:2.3,y:100},after:{scale:1,y:0,transition:{duration:1.2,delay:2,ease:"easeInOut"}}}}),Object(m.jsxs)(Oe.a.div,{className:"container",variants:{before:{opacity:0},after:{opacity:1,transition:{delay:3,delayChildren:.3,staggerChildren:.2}}},initial:"before",animate:"after",children:[Object(m.jsx)(Oe.a.img,{src:"/Melodicity-logo.svg",alt:"Melodicity Logo",className:"melodicity-logo",variants:j}),Object(m.jsx)(Oe.a.h1,{className:"heading",variants:j,children:"Tell us who you are"}),Object(m.jsxs)(Oe.a.div,{className:"card-container",variants:j,children:[Object(m.jsxs)("div",{className:"card card-1",onClick:function(){var e=Object(me.a)({},l);u(X(e))},children:[Object(m.jsx)("div",{className:"listener-card-icon"}),Object(m.jsx)("h1",{className:"card-heading",children:"Listener"}),Object(m.jsx)("p",{className:"card-description",children:"You are a music freak who loves to listen and explore new music everyday"})]}),Object(m.jsx)("div",{className:"card-container-line"}),Object(m.jsxs)("div",{className:"card card-2",onClick:function(){return c(!0)},children:[Object(m.jsx)("div",{className:"artist-card-icon"}),Object(m.jsxs)("div",{className:"pad",children:[Object(m.jsx)("h1",{className:"pad-heading",children:"Artist"}),Object(m.jsx)("p",{className:"pad-description",children:"You are a passionate musician who wants to share his music with the world"})]})]})]})]})]})},pe=(s(270),function(e){Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.isVerified}))&&e.history.push("/login");var t=Object(r.b)();return Object(n.useEffect)((function(){t(ee({verificationLink:e.match.params.verificationLink,_id:e.match.params._id}))}),[t,e.match.params.verificationLink,e.match.params._id]),Object(m.jsx)("div",{className:"verify",children:Object(m.jsx)("i",{className:"fas fa-spinner"})})}),ge=(s(271),s(40)),xe=(s(111),"GET_ALL_SONGS_REQUEST"),Ne="GET_ALL_SONGS_SUCCESS",ye="GET_ALL_SONGS_FAILURE",Se="SET_SONG_PLAYLIST",Ee="RATE_SONG_REQUEST",_e="RATE_SONG_SUCCESS",Le="RATE_SONG_FAILURE",Ce="LIKE_SONG_REQUEST",Ie="LIKE_SONG_SUCCESS",we="LIKE_SONG_FAILURE",ke="CREATE_PLAY_LIST_REQUEST",Re="CREATE_PLAY_LIST_SUCCESS",Ae="CREATE_PLAY_LIST_FAILURE",Ue="ADD_TO_PLAYLIST_REQUEST",Te="ADD_TO_PLAYLIST_SUCCESS",Pe="ADD_TO_PLAYLIST_FAILURE",Ge="GET_PLAYLIST_SONGS_REQUEST",Fe="GET_PLAYLIST_SONGS_SUCCESS",De="GET_PLAYLIST_SONGS_FAILURE",Ve="SET_CURRENT_SONG",Me="SET_SONGS",Ye=function(e){return{type:Se,payload:e}},Be=function(e){return{type:Ve,payload:e}};var Qe=function(e){var t=e.song,s=e.songs,n=Object(r.b)();return Object(m.jsxs)("div",{className:"song-card",onClick:function(){var e,a=s.length;for(e=0;e<=s.length&&s[e]._id!==t._id;e++);a=e,n(Ye([].concat(Object(ge.a)(s.slice(a,s.length)),Object(ge.a)(s.slice(0,a))))),n(Be(t))},children:[Object(m.jsx)("img",{src:t.cover,alt:"song-cover",className:"song-cover"})," ",Object(m.jsxs)("div",{className:"card-info",children:[Object(m.jsx)("h1",{className:"song-name",children:t.name}),"  ",Object(m.jsx)("img",{src:"/option-btn.svg",alt:"options",className:"option-btn"})]})]})};s(272);var He=function(){return Object(m.jsx)("div",{className:"loader d-flex align-items-center",children:Object(m.jsx)("div",{children:Object(m.jsx)(he,{iterationCount:"infinite",color:"#fff",height:"100px"})})})},qe=function(e){return function(t){t({type:xe});var s=Xe(e.token);y.a.get("/api/songs/song-routes",s).then((function(e){var s;t((s=e.data,{type:Ne,payload:s}))})).catch((function(e){t(se(e.response.data.message)),t({type:ye})}))}},Ze=function(e){return function(t){t({type:Ge});var s=Xe(e.token);y.a.get("/api/songs/song-routes/"+e.playlistId,s).then((function(e){var s;t((s=e.data,{type:Fe,payload:s}))})).catch((function(e){t(se(e.response.data.message)),t({type:De})}))}},ze=function(e){return function(t){t({type:Ee});var s=Xe(e.token);y.a.post("/api/songs/song-routes/rate",e.songInfo,s).then((function(e){t({type:_e}),t(se(e.data.message))})).catch((function(e){t(se(e.response.data.message)),t({type:Le})}))}},Ke=function(e){return function(t){t({type:Ce});var s=Xe(e.token);y.a.put("/api/songs/song-routes/like",e.songInfo,s).then((function(e){t({type:Ie}),t(se(e.data.message)),t(P(e.data.user))})).catch((function(e){t(se(e.response.data.message)),t({type:we})}))}},Je=function(e){return function(t){t({type:ke});var s=Xe(e.token);y.a.post("/api/songs/song-routes/playlist/create-playlist",e.playlistInfo,s).then((function(e){var s;t({type:Re,payload:s}),t(se(e.data.message)),t(P(e.data.user))})).catch((function(e){t(se(e.response.data.message)),t({type:Ae})}))}},We=function(e){return function(t){t({type:Ue});var s=Xe(e.token);y.a.put("/api/songs/song-routes/playlist/add-to-playlist",e.playlistInfo,s).then((function(e){var s;t({type:Te,payload:s}),t(se(e.data.message)),t(P(e.data.user))})).catch((function(e){t(se(e.response.data.message)),t({type:Pe})}))}},Xe=function(e){return{headers:{"Content-Type":"application/json",Authorization:e}}};s(273);var $e=function(e){var t=e.show,s=e.setShow,a=Object(r.b)(),c=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.songs)||void 0===t?void 0:t.isRatingLoading})),i=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.token})),l=Object(n.useState)(null),o=Object(d.a)(l,2),u=o[0],j=o[1],b=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.alert)||void 0===t?void 0:t.message}));Object(n.useEffect)((function(){b&&!c&&s(!1)}),[b,c,s]);var O=c?Object(m.jsx)("button",{className:"publish-submit-btn",disabled:!0,children:Object(m.jsx)("i",{className:"fas fa-spinner"})}):Object(m.jsx)("button",{className:"publish-submit-btn",onClick:function(){a(Je({token:i,playlistInfo:{name:u}}))},children:"Create"});return Object(m.jsx)(p,{show:t,setShow:s,children:Object(m.jsxs)("div",{className:"create-playlist publish-form d-flex flex-column",children:[Object(m.jsxs)("div",{className:"input-div",children:[Object(m.jsx)("input",{type:"text",name:"name",className:"form-input",placeholder:"  ",required:!0,onChange:function(e){j(e.target.value)}}),Object(m.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(m.jsx)("div",{className:"input-icon",children:Object(m.jsx)("i",{className:"far fa-play-circle"})})]}),Object(m.jsxs)("div",{className:"submit-rating-btn d-flex",children:[O,Object(m.jsx)("button",{type:"reset",className:"publish-cancel-btn",onClick:function(){return s(!1)},children:"Cancel"})]})]})})};var et=function(){var e=Object(r.c)((function(e){var t,s;return null===e||void 0===e||null===(t=e.user)||void 0===t||null===(s=t.userInfo)||void 0===s?void 0:s.creations})),t=Object(r.c)((function(e){var t,s;return null===e||void 0===e||null===(t=e.user)||void 0===t||null===(s=t.userInfo)||void 0===s?void 0:s.likedSongs})),s=Object(r.c)((function(e){var t,s;return null===e||void 0===e||null===(t=e.user)||void 0===t||null===(s=t.userInfo)||void 0===s?void 0:s.rated})),a=Object(r.c)((function(e){var t,s;return null===e||void 0===e||null===(t=e.user)||void 0===t||null===(s=t.userInfo)||void 0===s?void 0:s.playlists})),c=Object(n.useState)(!1),i=Object(d.a)(c,2),l=i[0],u=i[1],j=Object(n.useState)(!1),b=Object(d.a)(j,2),O=b[0],h=b[1],f=Object(o.g)(),v=Object(r.b)(),p=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.token})),g=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.isLoading})),x=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.isUpdateLoading})),N=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.userInfo})),y=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.userId})),S=Object(o.h)().id,E=S===y;return Object(n.useEffect)((function(){S!==(null===N||void 0===N?void 0:N._id)&&v(ne({token:p,id:S}))}),[v,S,p,null===N||void 0===N?void 0:N._id]),Object(m.jsxs)(m.Fragment,{children:[g&&Object(m.jsx)(He,{}),N&&Object(m.jsxs)("div",{className:"profile-page",children:[Object(m.jsx)(re,{show:l,setShow:u}),Object(m.jsx)($e,{show:O,setShow:h}),Object(m.jsxs)("div",{className:"top-background",children:[Object(m.jsx)("img",{src:"/back-icon.svg",alt:"",className:"back-icon",onClick:function(){return f.goBack()}}),Object(m.jsxs)("div",{className:"logo-container",children:[Object(m.jsx)(he,{iterationCount:0,color:"#fff",height:"22px"}),Object(m.jsxs)("h1",{className:"profile-heading",children:[E?"Your":"".concat(N.name,"'s")," Profile"]})]})]}),Object(m.jsxs)("div",{className:"bottom-background",children:[Object(m.jsxs)("div",{className:"profile-card-glass",children:[Object(m.jsx)("div",{className:"left-photo-section",children:Object(m.jsxs)("div",{className:"user-photo-container",children:[Object(m.jsx)("img",{src:N.cover?N.cover:"/user-photo.svg",alt:"userImage",className:"user-photo"})," ",E&&Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{name:"profile-dp",id:"profile-dp",className:"file",type:"file",placeholder:"",onChange:function(e){e.preventDefault();var t=new FormData;t.append("cover",e.target.files[0]),v(ie({updateInfo:t,token:p}))},disabled:x}),Object(m.jsx)("label",{htmlFor:"profile-dp",className:"edit-overlay",children:Object(m.jsx)("img",{src:"/pencil-dark.svg",alt:"edit"})})]})]})}),Object(m.jsxs)("div",{className:"right-info-section",children:[Object(m.jsx)("h1",{className:"user-name",children:N.name})," ",N.isCreator&&Object(m.jsx)("div",{className:"artist-tag",children:"Artist"}),Object(m.jsxs)("div",{className:"bottom-right-section",children:[Object(m.jsxs)("div",{className:"stats",children:["100 Followers ",Object(m.jsx)("div",{className:"dot"})," 100 Listeners"]})," ",N.isCreator&&E&&Object(m.jsxs)("button",{className:"publish-btn",onClick:function(){return u(!0)},children:[" ",Object(m.jsx)("img",{src:"/plus-icon.svg",alt:"publish",className:"plus-icon"}),"Publish"]})]})]}),E&&Object(m.jsx)("i",{className:"fas fa-sign-out-alt",onClick:function(){return v(te())}})]}),Object(m.jsxs)("div",{className:"song-section",children:[N.isCreator&&e&&!!e.length&&Object(m.jsxs)("div",{className:"category",children:[Object(m.jsxs)("h1",{className:"category-name",children:[E?"Your":"".concat(N.name,"'s")," Songs"]})," ",Object(m.jsx)("div",{className:"song-list",children:e.slice(0,7).map((function(t,s){return Object(m.jsx)(Qe,{song:t,songs:e},t._id)}))}),e.length>7&&Object(m.jsx)("button",{className:"show-more-btn",children:"Show more"})]}),!!t.length&&Object(m.jsxs)("div",{className:"category",children:[Object(m.jsxs)("h1",{className:"category-name",children:[E?"Your":"".concat(N.name,"'s")," Favorites"]}),Object(m.jsx)("div",{className:"song-list",children:t.slice(0,7).map((function(e,s){return Object(m.jsx)(Qe,{song:e,songs:t},s)}))}),t.length>7&&Object(m.jsx)("button",{className:"show-more-btn",children:"Show more"})]}),s&&!!s.length&&Object(m.jsxs)("div",{className:"category",children:[Object(m.jsx)("h1",{className:"category-name",children:"Songs you rated"}),Object(m.jsx)("div",{className:"song-list",children:s.slice(0,7).map((function(e,t){return Object(m.jsx)(Qe,{song:e.creationId,songs:s.map((function(e){return e.creationId})),rating:1},t)}))}),s.length>7&&Object(m.jsx)("button",{className:"show-more-btn",children:"Show more"})]}),Object(m.jsxs)("div",{className:"category",children:[Object(m.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(m.jsxs)("h1",{className:"category-name",children:[E?"Your":"".concat(N.name,"'s")," Playlists "]}),E&&Object(m.jsxs)("div",{className:"playlist",onClick:function(){return h(!0)},children:[Object(m.jsx)("i",{className:"fas fa-plus-circle"})," Create Playlist"]})]}),Object(m.jsx)("div",{className:"song-list",children:a.slice(0,7).map((function(e,t){return Object(m.jsx)("div",{className:"playlist capitalize",onClick:function(){return f.push("/".concat(e._id,"/songs"))},children:e.playlistName})}))}),a.length>7&&Object(m.jsx)("button",{className:"show-more-btn",children:"Show more"})]})]})]})]})]})},tt=(s(274),s(275),function(e){var t=e.song,s=e.setShow,n=e.setSongId,a=e.setAdd,c=Object(o.g)(),i=Object(o.h)().playlistId,l=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.token})),d=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.songs)||void 0===t?void 0:t.songs})),u=Object(r.c)((function(e){var t,s,n;return null===e||void 0===e||null===(t=e.user)||void 0===t||null===(s=t.userInfo)||void 0===s||null===(n=s.likedSongs)||void 0===n?void 0:n.map((function(e){return e._id}))})),j=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.songs)||void 0===t?void 0:t.isLikeLoading})),b=Object(r.b)(),O={backgroundImage:"url('".concat(null===t||void 0===t?void 0:t.cover,"')")},h=function(e){e.stopPropagation(),b(Ke({token:l,songInfo:{creationId:t._id}}))},f=j?Object(m.jsx)("i",{className:"fas fa-spinner"}):u&&u.includes(t._id)?Object(m.jsx)("i",{className:"fas fa-heart",onClick:h}):Object(m.jsx)("i",{className:"far fa-heart",onClick:h});return Object(m.jsxs)("div",{className:"songlist-card d-flex justify-content-between align-items-center",onClick:function(){var e,s=d.length;for(e=0;e<=d.length&&d[e]._id!==t._id;e++);s=e,b(Ye([].concat(Object(ge.a)(d.slice(s,d.length)),Object(ge.a)(d.slice(0,s))))),b(Be(t)),c.push("/songs/".concat(t._id))},children:[Object(m.jsxs)("div",{className:"songlist-card-1 d-flex align-items-center",children:[Object(m.jsx)("div",{className:"songlist-card-img",style:O}),Object(m.jsxs)("div",{className:"songlist-card-info d-flex flex-column",children:[Object(m.jsx)("span",{className:"songlist-name",children:null===t||void 0===t?void 0:t.name}),Object(m.jsx)("span",{className:"songlist-artist",children:null===t||void 0===t?void 0:t.singer})]})]}),Object(m.jsxs)("div",{className:"songlist-card-2 d-flex justify-content-between align-items-center",children:[Object(m.jsx)("i",{className:"far fa-star",onClick:function(e){e.stopPropagation(),n(t._id),s(!0)}}),f,!i&&Object(m.jsx)("i",{className:"fas fa-plus",onClick:function(e){e.stopPropagation(),n(t._id),a(!0)}})]})]})});s(276);var st=function(e){var t=e.show,s=e.setShow,a=e.songId,c=Object(n.useState)(1),i=Object(d.a)(c,2),l=i[0],o=i[1],u=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.token})),j=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.songs)||void 0===t?void 0:t.isRatingLoading})),b=Object(r.b)(),O=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.alert)||void 0===t?void 0:t.message}));Object(n.useEffect)((function(){O&&!j&&s(!1)}),[O,s,j]);var h=j?Object(m.jsx)("button",{className:"publish-submit-btn",disabled:!0,children:Object(m.jsx)("i",{className:"fas fa-spinner"})}):Object(m.jsx)("button",{className:"publish-submit-btn",onClick:function(){b(ze({token:u,songInfo:{creationId:a,rating:l}}))},children:"Rate"});return Object(m.jsx)(p,{show:t,onClose:function(){return s(!1)},children:Object(m.jsxs)("div",{className:"rating-modal publish-form d-flex flex-column",children:[Object(m.jsx)("div",{className:"star-container d-flex",children:Object(ge.a)(Array(5)).map((function(e,t){return t<l?Object(m.jsx)("i",{className:"fas fa-star",onClick:function(){return o(t+1)}}):Object(m.jsx)("i",{className:"far fa-star",onClick:function(){return o(t+1)}})}))}),Object(m.jsxs)("div",{className:"submit-rating-btn d-flex",children:[h,Object(m.jsx)("button",{type:"reset",className:"publish-cancel-btn",onClick:function(){return s(!1)},children:"Cancel"})]})]})})};s(277);var nt=function(e){var t=e.show,s=e.setShow,a=e.creationId,c=Object(r.b)(),i=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.songs)||void 0===t?void 0:t.isRatingLoading})),l=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.token})),o=Object(n.useState)(null),u=Object(d.a)(o,2),j=u[0],b=u[1],O=Object(r.c)((function(e){var t,s;return null===e||void 0===e||null===(t=e.user)||void 0===t||null===(s=t.userInfo)||void 0===s?void 0:s.playlists})),h=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.alert)||void 0===t?void 0:t.message}));Object(n.useEffect)((function(){h&&!i&&s(!1)}),[h,s,i]);var f=i?Object(m.jsx)("button",{className:"publish-submit-btn",disabled:!0,children:Object(m.jsx)("i",{className:"fas fa-spinner"})}):Object(m.jsx)("button",{className:"publish-submit-btn",onClick:function(){c(Je({token:l,playlistInfo:{name:j,creationId:a}}))},children:"Add"});return Object(m.jsx)(p,{show:t,setShow:s,children:Object(m.jsxs)("div",{className:"publish-form d-flex flex-column",children:[Object(m.jsx)("div",{className:"add-head",children:"Choose a playlist or create a new one."}),O&&!!O.length&&O.map((function(e){return Object(m.jsxs)("div",{className:"capitalize add-playlist-card",onClick:function(){return t=e._id,void c(We({token:l,playlistInfo:{playlistId:t,creationId:a}}));var t},children:[Object(m.jsx)("i",{className:"far fa-play-circle"}),"  ",e.playlistName]})})),Object(m.jsxs)("div",{className:"input-div",children:[Object(m.jsx)("input",{type:"text",name:"name",className:"form-input",placeholder:"  ",onChange:function(e){b(e.target.value)}}),Object(m.jsx)("label",{htmlFor:"name",className:"form-label",children:"New Playlist"}),Object(m.jsx)("div",{className:"input-icon",children:Object(m.jsx)("i",{className:"far fa-play-circle"})})]}),Object(m.jsxs)("div",{className:"submit-rating-btn d-flex",children:[f,Object(m.jsx)("button",{type:"reset",className:"publish-cancel-btn",onClick:function(){return s(!1)},children:"Cancel"})]})]})})};var at=function(){return Object(m.jsx)("div",{className:"brand melodicity-name-logo",children:Object(m.jsx)("div",{children:"Melodicity"})})};var ct=function(e){var t=e.user,s=Object(o.g)();return Object(m.jsxs)("div",{className:"song-card",onClick:function(){s.push("/profile/".concat(t._id))},children:[Object(m.jsx)("img",{src:t.cover?t.cover:"/user-photo.svg",alt:"song-cover",className:"song-cover",style:{minHeight:"140px",minWidth:"140px"}}),Object(m.jsx)("div",{className:"card-info",children:Object(m.jsx)("h1",{className:"song-name",children:t.name})})]})};var it=function(){var e=Object(o.h)().playlistId,t=Object(r.b)(),s=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.token})),a=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.songs)||void 0===t?void 0:t.isLoading})),c=Object(n.useState)(Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.songs)||void 0===t?void 0:t.songs}))),i=Object(d.a)(c,2),l=i[0],u=i[1],j=Object(n.useState)(null),b=Object(d.a)(j,2),O=b[0],h=b[1],f=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.songs)||void 0===t?void 0:t.songs})),v=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.userList})),p=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.userId})),g=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.userInfo})),x=Object(o.g)(),N=Object(n.useState)(!1),y=Object(d.a)(N,2),S=y[0],E=y[1],_=Object(n.useState)(!1),L=Object(d.a)(_,2),C=L[0],I=L[1],w=Object(n.useState)(null),k=Object(d.a)(w,2),R=k[0],A=k[1],U=Object(n.useState)(""),T=Object(d.a)(U,2),P=T[0],G=T[1];return Object(n.useEffect)((function(){t(e?Ze({token:s,playlistId:e}):qe({token:s})),t(ne({token:s,id:p})),t(ae({token:s}))}),[t,p,e,s]),Object(n.useEffect)((function(){l&&""!==P?(u(f.filter((function(e){return e.name.toLowerCase().includes(P.toLowerCase())||e.name.split(" ").join("").toLowerCase().includes(P.toLowerCase())}))),v&&v.length&&h(v.filter((function(e){return e.name.toLowerCase().includes(P.toLowerCase())||e.name.split(" ").join("").toLowerCase().includes(P.toLowerCase())})))):(u(f),h(null))}),[P,f]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(st,{show:S,setShow:E,songId:R}),Object(m.jsx)(nt,{show:C,setShow:I,creationId:R}),a&&Object(m.jsx)(He,{}),Object(m.jsxs)("div",{className:"profile-page",children:[Object(m.jsxs)("div",{className:"top-background",children:[Object(m.jsx)("img",{src:"/back-icon.svg",alt:"",className:"back-icon",onClick:function(){return x.goBack()}}),Object(m.jsxs)("div",{className:"logo-container",children:[Object(m.jsx)(he,{iterationCount:0,color:"#fff",height:"22px"}),Object(m.jsx)(at,{}),Object(m.jsx)("input",{type:"search",className:"search-songs",placeholder:"Search",onChange:function(e){return G(e.target.value)}})]})]}),Object(m.jsx)("div",{className:"bottom-background",style:{height:"57vh"},children:Object(m.jsxs)("div",{className:"profile-card-glass songs-card-glass flex-column",children:[Object(m.jsx)("div",{className:"songs-heading d-flex justify-content-between",children:g&&e?Object(m.jsx)("span",{classname:"capitalize",children:g.playlists.filter((function(t){return t._id===e}))[0].playlistName}):Object(m.jsx)("span",{children:"All Songs"})}),Object(m.jsx)("div",{className:"songs-list d-flex flex-column align-items-center",children:null===l||void 0===l?void 0:l.map((function(e){return Object(m.jsx)(tt,{song:e,setShow:E,setSongId:A,setAdd:I})}))}),O&&!e&&Object(m.jsxs)("div",{className:"category",style:{alignSelf:"flex-start",width:"100%"},children:[Object(m.jsx)("div",{className:"songs-heading d-flex justify-content-between",style:{marginBottom:"0"},children:Object(m.jsx)("span",{children:"Artists"})}),Object(m.jsx)("div",{className:"song-list",children:O.map((function(e,t){return Object(m.jsx)(ct,{user:e},t)}))}),O.length>7&&Object(m.jsx)("button",{className:"show-more-btn",children:"Show more"})]})]})})]})]})},lt=s(157);s(278),s(279);var ot=function(){var e=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.songs)||void 0===t?void 0:t.songPlaylist})),t=Object(r.b)();return Object(m.jsx)("div",{children:e&&Object(m.jsx)(lt.a,{audioLists:e,defaultPosition:{top:"50%",left:"0px"},onAudioPlay:function(e){return t(Be(e))},showThemeSwitch:!1,clearPriorAudioLists:!0,spaceBar:!0})})};s(301);var rt=function(){var e=Object(o.h)().id,t=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.songs)||void 0===t?void 0:t.currentSong})),s=Object(o.g)();return Object(n.useEffect)((function(){e!==(null===t||void 0===t?void 0:t._id)&&s.push("/songs/".concat(t._id))}),[t,s,null===t||void 0===t?void 0:t._id,e]),Object(m.jsxs)("div",{className:"profile-page",children:[Object(m.jsxs)("div",{className:"top-background",children:[Object(m.jsx)("img",{src:"/back-icon.svg",alt:"",className:"back-icon",onClick:function(){return s.goBack()}}),Object(m.jsxs)("div",{className:"logo-container",children:[Object(m.jsx)(he,{iterationCount:0,color:"#fff",height:"22px"}),Object(m.jsx)(at,{})]})]}),Object(m.jsx)("div",{className:"bottom-background",style:{height:"57vh"},children:Object(m.jsx)("div",{className:"music-player-page-parent d-flex",children:Object(m.jsx)("div",{className:"music-player-page-image",style:{backgroundImage:"url('".concat(t.cover,"')")}})})})]})};var dt=function(){var e=Object(r.c)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.token}));return Object(m.jsx)(l.a,{children:Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(O,{}),e&&Object(m.jsx)(ot,{}),Object(m.jsxs)(o.d,{children:[e&&Object(m.jsxs)(o.d,{children:[Object(m.jsx)(o.b,{exact:!0,path:"/",component:de}),Object(m.jsx)(o.b,{exact:!0,path:"/profile/:id",component:et}),Object(m.jsx)(o.b,{exact:!0,path:"/songs",component:it}),Object(m.jsx)(o.b,{exact:!0,path:"/:playlistId/songs",component:it}),Object(m.jsx)(o.b,{exact:!0,path:"/songs/:id",component:rt}),Object(m.jsx)(o.b,{path:"*",children:Object(m.jsx)(o.a,{to:"/"})})]}),Object(m.jsx)(o.b,{exact:!0,path:"/",component:de}),Object(m.jsx)(o.b,{exact:!0,path:"/login",component:je}),Object(m.jsx)(o.b,{exact:!0,path:"/register",component:be}),Object(m.jsx)(o.b,{exact:!0,path:"/register/role",component:ve}),Object(m.jsx)(o.b,{exact:!0,path:"/verify/:_id/:verificationLink/login",component:pe}),Object(m.jsx)(o.b,{path:"*",children:Object(m.jsx)(o.a,{to:"/"})})]})]})})},ut=s(48),jt=s(156),bt=s(155),mt=Object(ut.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,token:JSON.parse(localStorage.getItem("token")),isCreator:localStorage.getItem("isCreator"),userId:localStorage.getItem("userId"),preRegistration:null,preUserInfo:null,isVerified:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:case V:case q:case B:return Object(me.a)(Object(me.a)({},e),{},{isLoading:!0});case F:return Object(me.a)(Object(me.a)({},e),{},{isLoading:!1,token:t.payload.token,isCreator:t.payload.isCreator,userId:t.payload.userId});case M:case D:case Y:case z:return Object(me.a)(Object(me.a)({},e),{},{isLoading:!1});case Z:return Object(me.a)(Object(me.a)({},e),{},{isLoading:!1,isVerified:!0});case Q:return Object(me.a)(Object(me.a)({},e),{},{isLoading:!1,preRegistration:!0});case H:return Object(me.a)(Object(me.a)({},e),{},{isLoading:!1,preRegistration:!1});case K:return Object(me.a)(Object(me.a)({},e),{},{preUserInfo:t.payload});case J:return Object(me.a)(Object(me.a)({},e),{},{token:null,isCreator:null,userId:null});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(me.a)(Object(me.a)({},e),{},{message:t.payload});case j:return Object(me.a)(Object(me.a)({},e),{},{message:null});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,isPostLoading:!1,isUpdateLoading:!1,userInfo:null,userList:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:case w:return Object(me.a)(Object(me.a)({},e),{},{isLoading:!0});case L:return Object(me.a)(Object(me.a)({},e),{},{isPostLoading:!0});case E:return Object(me.a)(Object(me.a)({},e),{},{isLoading:!1,userInfo:t.payload});case C:return Object(me.a)(Object(me.a)({},e),{},{isPostLoading:!1,userInfo:t.payload});case k:return Object(me.a)(Object(me.a)({},e),{},{userList:t.payload});case _:case I:case R:return Object(me.a)(Object(me.a)({},e),{},{isLoading:!1,isPostLoading:!1});case A:return Object(me.a)(Object(me.a)({},e),{},{isUpdateLoading:!0});case U:case T:return Object(me.a)(Object(me.a)({},e),{},{isUpdateLoading:!1});default:return e}},songs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,songs:null,songPlaylist:null,isRatingLoading:!1,isLikeLoading:!1,currentSong:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:case Ge:return Object(me.a)(Object(me.a)({},e),{},{isLoading:!0});case Ne:case Fe:case Me:return Object(me.a)(Object(me.a)({},e),{},{isLoading:!1,songs:t.payload});case ye:case De:return Object(me.a)(Object(me.a)({},e),{},{isLoading:!1});case Se:return Object(me.a)(Object(me.a)({},e),{},{songPlaylist:t.payload});case Ee:case ke:case Ue:return Object(me.a)(Object(me.a)({},e),{},{isRatingLoading:!0});case _e:case Le:case Re:case Ae:case Te:case Pe:return Object(me.a)(Object(me.a)({},e),{},{isRatingLoading:!1});case Ce:return Object(me.a)(Object(me.a)({},e),{},{isLikeLoading:!0});case Ie:case we:return Object(me.a)(Object(me.a)({},e),{},{isLikeLoading:!1});case Ve:return Object(me.a)(Object(me.a)({},e),{},{currentSong:t.payload});default:return e}}}),Ot=mt,ht=Object(ut.createStore)(Ot,Object(bt.composeWithDevTools)(Object(ut.applyMiddleware)(jt.a)));i.a.render(Object(m.jsx)(r.a,{store:ht,children:Object(m.jsx)(dt,{})}),document.getElementById("root"))},53:function(e,t,s){e.exports={modal__wrap:"Modal_modal__wrap__38u2j",visible:"Modal_visible__1wR9T",modal:"Modal_modal__1tsYQ"}}},[[302,1,2]]]);
//# sourceMappingURL=main.9f643e64.chunk.js.map